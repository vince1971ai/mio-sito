<!DOCTYPE html>
<html lang="en"> <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Nik Tesla AI</title> <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.js"></script>
    <script src="sketch.js"></script>
    </head>
<body>
    <div class="button-container">
        <a href="index.html" class="nav-button">HOME</a>
        <a href="about.html" class="nav-button">ABOUT</a>
        <a href="future.html" class="nav-button">FUTURE</a>
        <a href="Space_invaders.html" class="nav-button">INVADERS</a> <a href="podcast.html" class="nav-button">PODCAST</a>
        <a href="badge.html" class="nav-button">BADGE</a>
        <a href="contact.html" class="nav-button">CONTACT</a>
    </div>

    <div class="form-container">
        <h1>Contact Us</h1> <form id="contactForm" class="contact-form">

            <div>
                <label for="name" class="required">Name:</label> <input type="text" id="name" name="name" required>
            </div>

            <div>
                <label for="email" class="required">Email:</label> <input type="email" id="email" name="email" required>
            </div>

            <div>
                <label for="message">Message:</label> <textarea id="message" name="message" maxlength="200"></textarea>
            </div>

            <div>
                 <label for="website">Website:</label> <input type="url" id="website" name="website">
            </div>

            <div>
                <label for="files">Attach Files:</label> <input type="file" id="files" name="files" multiple>
            </div>

            <div>
                <button type="submit">Send Message</button> </div>

            <div id="formStatusMessage" style="margin-top: 15px; text-align: center; font-weight: bold;"></div>

        </form>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const contactForm = document.getElementById('contactForm');
            const formStatusMessage = document.getElementById('formStatusMessage');
            const submitButton = contactForm.querySelector('button[type="submit"]'); // Trova il bottone di submit

            // Aggiungi un ascoltatore per l'evento 'submit' del form
            contactForm.addEventListener('submit', async (event) => {
                // Impedisci l'invio standard del form che causerebbe il ricaricamento della pagina
                event.preventDefault();

                // Resetta il messaggio di stato
                formStatusMessage.textContent = '';
                formStatusMessage.style.color = 'white'; // Colore di default

                // Raccogli i dati del form
                const formData = new FormData(contactForm);
                // Puoi convertire FormData in un oggetto JSON se preferisci inviarlo cosÃ¬
                const formDataJson = {};
                formData.forEach((value, key) => {
                     // Gestisci i file separatamente se necessario, per ora li ignoriamo nel JSON
                     if (key !== 'files') {
                        formDataJson[key] = value;
                     }
                });

                // *** SIMULAZIONE DELL'INVIO ***
                // In un'applicazione reale, qui useresti `fetch` per inviare
                // `formData` o `formDataJson` a una tua API serverless.
                // Esempio (commentato):
                /*
                const YOUR_CONTACT_API_URL = 'https://your-vercel-project.vercel.app/api/contact'; // <-- URL della tua API per il contatto

                try {
                    const response = await fetch(YOUR_CONTACT_API_URL, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json' // O 'application/x-www-form-urlencoded' o lasciare FormData per i file
                        },
                        body: JSON.stringify(formDataJson) // Invia come JSON
                        // Oppure: body: formData // Per inviare con i file
                    });

                    if (!response.ok) {
                        throw new Error(`Errore HTTP: ${response.status}`);
                    }

                    const result = await response.json(); // Assumi che la tua API risponda con JSON

                    // Gestisci la risposta (mostra messaggio di successo o errore)
                    if (result.success) { // Assumi che la tua API restituisca { success: true } in caso di successo
                        formStatusMessage.textContent = 'Messaggio inviato con successo!';
                        formStatusMessage.className = 'status-message status-success'; // Applica classe per lo stile
                        contactForm.reset(); // Resetta il form dopo l'invio riuscito
                    } else {
                        // Assumi che la tua API restituisca { success: false, error: "..." } in caso di errore
                        formStatusMessage.textContent = `Errore nell'invio: ${result.error || 'Errore sconosciuto'}`;
                        formStatusMessage.className = 'status-message status-error'; // Applica classe per lo stile
                    }

                } catch (error) {
                    console.error('Errore durante l\'invio del form:', error);
                    formStatusMessage.textContent = `Errore di connessione: ${error.message}`;
                    formStatusMessage.className = 'status-message status-error'; // Applica classe per lo stile
                } finally {
                     submitButton.disabled = false; // Riabilita il bottone
                }
                */

                // --- Codice di simulazione (RIMUOVI QUANDO IMPLEMENTI L'API REALE) ---
                console.log('Dati form (simulazione invio):', formDataJson); // Stampa i dati nella console
                formStatusMessage.textContent = 'Form submitted (simulation)'; // Messaggio di conferma simulato
                formStatusMessage.className = 'status-message status-success'; // Stile di successo simulato
                // contactForm.reset(); // Rimuovi il commento se vuoi resettare il form anche nella simulazione
                 submitButton.disabled = false; // Riabilita il bottone
                // --- Fine Codice di simulazione ---

            });
        });
    </script>

</body>
</html>
